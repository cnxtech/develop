(window.webpackJsonp=window.webpackJsonp||[]).push([["core.components.dynamic-content"],{"./src/core/components/dynamic-content/DynamicContent.tsx":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"DynamicContent",function(){return C});var o=n("../node_modules/react/index.js"),r=n.n(o),c=n("../node_modules/react-hot-loader/index.js"),s=n("./src/core/ioc.ts"),i=n("./src/core/classes/ComponentRegistry.ts"),p=n("./node_modules/lodash/merge.js"),a=n.n(p),l=n("./src/core/classes/Hyper.tsx"),d=n("./src/core/utils/general.ts"),u=n("./src/core/classes/Application.tsx"),f=n("./src/core/stores/index.tsx"),y=n("./src/core/components/dynamic-content/types.ts"),h=n("./src/core/utils/styled.tsx"),m=n("./src/core/classes/HtmlParser.tsx"),b=n("../node_modules/mobx-react/index.module.js"),j=n("./src/core/classes/ObjectStringCompiler.ts"),O=n("./src/mobx.js"),v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),g=function(){return(g=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},w=function(t,e,n,o){var r,c=arguments.length,s=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(s=(c<3?r(s):c>3?r(e,n,s):r(e,n))||s);return c>3&&s&&Object.defineProperty(e,n,s),s},x=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},P=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&(n[o[r]]=t[o[r]])}return n},_=n("./node_modules/debug/src/browser.js")("components:dynamic-content"),C=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={children:t.transform(Object(O.toJS)(t.props.children))},t}var p,C,S,R;return v(n,e),n.prototype.updateChildren=function(t){var e=this.transform(Object(O.toJS)(this.props.children));return _("updateChildren","propsChildren:",Object(O.toJS)(this.props.children),"stateChildren:",this.state.children,"result:",e),this.setState({children:e},t),this},n.prototype.compileProps=function(t){return void 0===t&&(t={}),this.osc||(this.osc=new j.a),this.osc.compile(t,!0)},n.prototype.transform=function(t){var e=this;Array.isArray(t)||(t=Object.keys(t).filter(function(t){return!isNaN(t)}).length>0?Object.values(t):[]);return t=t.filter(function(t){var n=e.components.has(t.component.toString())||h.a.includes(t.component.toString());return n||Object(d.x)("Could not find component ["+t.component+"] in DynamicContent"),n}).map(function(t,n){var o=t.component,r=t.children,c=P(t,["component","children"]),s={defaultProps:{}};if(h.a.includes(o.toString()),e.components.has(o.toString())){var i=e.components.get(o.toString());s=g({},s,i.options)}Object(y.a)(r)&&(r=e.transform(r||[]));var p=a()({},s.defaultProps,c,{children:r});return(p=e.compileProps(p)).key=o+"."+n,p.style&&(p.style=Object(d.j)(p.style)),Object(l.c)(o,p,p.children)})},n.prototype.componentDidUpdate=function(t,e,n){t.children!==this.props.children&&this.updateChildren()},n.prototype.render=function(){var t=this.props,e=(t.children,P(t,["children"]),this.state.children);return r.a.createElement(o.Fragment,null,e)},n.displayName="DynamicContent",n.defaultProps={children:[]},w([Object(s.d)("app"),x("design:type","function"===typeof(p="undefined"!==typeof u.a&&u.a)?p:Object)],n.prototype,"app",void 0),w([Object(s.d)("store"),x("design:type","function"===typeof(C="undefined"!==typeof f.f&&f.f)?C:Object)],n.prototype,"store",void 0),w([Object(s.d)("components"),x("design:type","function"===typeof(S="undefined"!==typeof i.b&&i.b)?S:Object)],n.prototype,"components",void 0),w([Object(s.d)("htmlparser"),x("design:type","function"===typeof(R="undefined"!==typeof m.a&&m.a)?R:Object)],n.prototype,"htmlParser",void 0),n=w([Object(c.hot)(t),b.observer],n)}(o.Component)}.call(this,n("../node_modules/webpack/buildin/harmony-module.js")(t))}}]);