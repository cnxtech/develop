(window.webpackJsonp=window.webpackJsonp||[]).push([["core.components.dynamic-menu"],{"./src/core/components/dynamic-menu/DynamicMenu.tsx":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"DynamicMenu",function(){return x});var o=n("../node_modules/react/index.js"),r=n.n(o),s=n("../node_modules/prop-types/index.js"),i=n.n(s),c=n("../node_modules/antd/lib/menu/index.js"),l=n.n(c),p=(n("../node_modules/antd/lib/menu/style/index.js"),n("../node_modules/mobx-react/index.module.js")),a=n("./src/mobx.js"),u=n("./src/core/utils/colors.ts"),m=n("./src/core/menus/index.ts"),d=n("./src/core/decorators.tsx"),f=n("./src/core/ioc.ts"),y=(n("./src/core/components/dynamic-menu/index.scss"),n("./src/core/utils/getClassNamer.ts")),h=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),b=function(){return(b=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},O=function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},j=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n},v=n("./node_modules/debug/src/browser.js")("components:DynamicMenu"),x=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.openKeys=[],e.onOpenChange=function(t){return Object(a.transaction)(function(){if(v("onOpenChange",t),!e.props.multiroot&&t.length>e.openKeys.length){var n=t[t.length-1],o=e.props.items.ids();if(o.includes(n)){t.filter(function(e){return e!==n}).filter(function(e){return o.includes(e)});e.props.items.collapseAll(),e.props.items.items([n]).expand()}}else e.props.items.collapseAll().items(t).expand()})},e.onClick=function(t){v("onClick",t);var n=e.props.items,o=n.item(t.key);n.handleClick(o,t.domEvent),o.selected&&!1===e.props.multiple&&n.deselectAll().select(o)},e.onTitleClick=function(t){return Object(a.transaction)(function(){v("onTitleClick",t);var n=e.props.items.item(t.key);e.props.items.handleClick(n,t.domEvent)})},e}var o;return h(n,t),n.prototype.componentDidMount=function(){this.selectFromRoutePath()},n.prototype.componentWillReceiveProps=function(e){this.props.items!==e.items&&this.selectFromRoutePath(e.items)},n.prototype.selectFromRoutePath=function(e){void 0===e&&(e=this.props.items),this.props.selectFromRoutePath&&(e.deselectAll(),e.selectActiveFromRoute(!0,!this.props.multiroot))},n.prototype.renderMenuItem=function(e,t){var n=this.props,o=(n.color,n.mode,n.items,Object(y.a)(this)(["item","item-"+e.type,"renderer-"+e.renderer],[e.class])),s=this.manager.renderInner(e,this),i=this.manager.render(s,e,this);return i&&(i=this.manager.rendered(i,e,this)),r.a.cloneElement(i,b({},i.props,{className:o}))},n.prototype.render=function(){var e=this,t=this.props,n=(t.children,t.className,t.multiple),o=(t.multiroot,t.selectFromRoutePath,t.prefixCls,t.mode),s=t.items,i=t.color,c=(t.renderer,g(t,["children","className","multiple","multiroot","selectFromRoutePath","prefixCls","mode","items","color","renderer"]));if("function"!==typeof s.selected)return null;var p=Object(y.a)(this);return r.a.createElement(l.a,Object.assign({mode:o,className:p.root(o,"theme-"+o)(),subMenuCloseDelay:.6,style:{backgroundColor:Object(u.d)(i)},selectedKeys:s.selected().ids(),openKeys:s.expanded().ids(),onClick:this.onClick,onOpenChange:this.onOpenChange,multiple:n},c),s.map(function(t){return e.renderMenuItem(t,0)}))},n.displayName="DynamicMenu",n.defaultProps={prefixCls:"c-menu",mode:"horizontal",multiroot:!1,multiple:!1,selectFromRoutePath:!0},n.renderers={},n.contextTypes={siderCollapsed:i.a.bool,collapsedWidth:i.a.oneOfType([i.a.number,i.a.string])},O([Object(f.d)("menumanager"),j("design:type","function"===typeof(o="undefined"!==typeof m.b&&m.b)?o:Object)],n.prototype,"manager",void 0),n=O([Object(d.c)(e),p.observer],n)}(r.a.Component)}.call(this,n("../node_modules/webpack/buildin/harmony-module.js")(e))},"./src/core/components/dynamic-menu/index.scss":function(e,t,n){}}]);